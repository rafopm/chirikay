---
import Container from "../shared/Container.astro";
import Animate from "../shared/Animate.astro";

const logos = [
    { src: "/images/logos/logo-midagri.webp", alt: "Logo Ministerio Desarrollo Agrario y Riego" },
    { src: "/images/logos/logo-agrorural.webp", alt: "Logo AgroRural" },
    { src: "/images/logos/logo-avanzar-rural.webp", alt: "Logo Avanzar Rural" },
    { src: "/images/logos/logo-fida.webp", alt: "Logo FIDA" },
];

const isBlogPage = Astro.url.pathname.startsWith("/blog");
---

<section class={`${isBlogPage ? "bg-rv-light" : "bg-rv-very-light"} py-12 lg:py-20 rounded-b-3xl`} id="logos">
    <Container>
        <Animate type="fadeInUp" delay={100} duration={600} threshold={0.05}>
            <span class="font-bold text-ms-dark text-2xl text-center block w-full md:text-left">
                Con el cofinanciamiento de:
            </span>
        </Animate>
        
        <div class="carousel-container">
            {logos.map((logo, index) => (
                <Animate 
                    type="fadeInUp" 
                    delay={100 + (index * 150)} 
                    duration={4000} 
                    threshold={0.05}
                    class="card-wrapper"
                >
                    <img
                        src={logo.src}
                        alt={logo.alt}
                        loading="lazy"
                        width="auto"
                        height="80"
                        class="logo-image"
                    />
                </Animate>
            ))}
        </div>
    </Container>
</section>

<style>
    .carousel-container {
        width: 100%;
        overflow: visible;
        position: relative;
        display: flex;
        flex-wrap: wrap;
        align-items: center;
        gap: 4rem;
        padding-top: 2rem;
        justify-content: center; /* Centrado por defecto para móviles */
    }
    
    @media (min-width: 768px) {
        .carousel-container {
            justify-content: space-between; /* Distribución normal en pantallas más grandes */
        }
    }
    
    .logo-image {
        width: auto;
        height: 80px;
        object-fit: contain;
        border-radius: 8px;
        display: block;
        transition: transform 0.3s cubic-bezier(0.25, 0.1, 0.25, 1);
        will-change: transform;
    }
    
    .logo-image:hover {
        transform: scale(1.05);
    }

    /* Asegurar que las animaciones se vean bien */
    .card-wrapper {
        display: flex;
        justify-content: center;
    }
</style>