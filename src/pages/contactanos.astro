---
import Layout from "../layouts/BlogPost.astro";
import Icon from "../components/shared/Icon.astro";
import Map from "../components/shared/Map.astro";
import { CONTACT, SOCIAL, SITE } from "../consts";
import Container from "../components/shared/Container.astro";
import Button from "../components/shared/Button.astro";
import Animate from "../components/shared/Animate.astro";

const contactData = {
  hero: {
    title: "Hablemos",
    subtitle: "Tu chirimoya orgánica está a un mensaje de distancia",
    description: "Conecta directamente con los productores de ChiriKay",
  },
  primaryCTA: {
    title: "¿Listo para ordenar?",
    description: "Respuesta inmediata por WhatsApp",
    url: `https://wa.me/51913723496?text=Hola,%20quiero%20información%20sobre%20ChiriKay`,
    phone: "+51 913 723 496",
  },
  contactChannels: [
    {
      title: "WhatsApp",
      description: "Pedidos y consultas inmediatas",
      icon: "whatsapp",
      url: `https://wa.me/51913723496?text=Hola,%20quiero%20información%20sobre%20ChiriKay`,
      featured: true,
    },
    {
      title: "Email",
      description: "NFQOLIVIO2022@HOTMAIL.COM",
      icon: "email",
      url: `mailto:NFQOLIVIO2022@HOTMAIL.COM?subject=Consulta%20ChiriKay`,
      featured: false,
    },
  ],
  socialChannels: [
    {
      title: "Facebook",
      icon: "facebook",
      url: SOCIAL.FACEBOOK,
    },
    {
      title: "Instagram",
      icon: "instagram",
      url: SOCIAL.INSTAGRAM,
    },
    {
      title: "TikTok",
      icon: "tiktok",
      url: SOCIAL.TIKTOK,
    },
  ],
  location: {
    title: "Origen",
    place: "San José de Bellavista, San Antonio, Huarochirí",
    description: "Desde los valles andinos hasta tu mesa",
    coordinates: "1,589 msnm",
  },
};

const mapEmbedUrl = CONTACT.MAP_URL;
---

<Layout
  title="Contáctanos"
  metatitle="Contáctanos | ChiriKay - Chirimoya Orgánica de Huarochirí"
  metadescription="Conecta con ChiriKay para ordenar chirimoya orgánica premium. WhatsApp, email y redes sociales. Desde Huarochirí hasta tu mesa."
  description="Contacta con los productores de ChiriKay para ordenar chirimoya orgánica de alta calidad cultivada en los valles de Huarochirí."
  heroimage="/images/campos-cultivando-salud-chirikay.webp"
  heroimagethumb="/images/campos-cultivando-salud-chirikay-mobile.webp"
  slug="/contactanos/"
>
  <!-- Hero Minimalista -->
  <section class="bg-rv-very-light">
    <Container className="min-h-[80vh] flex flex-col items-center justify-center text-rv-very-dark">
      <Animate type="fadeInUp" delay={200} threshold={0.2}>
        <h2 class="text-5xl md:text-7xl font-bold mb-6 leading-tight">
          {contactData.hero.title}
        </h2>
      </Animate>

      <Animate type="fadeInUp" delay={300} threshold={0.2}>
        <p class="text-xl md:text-2xl mb-8 font-light">
          {contactData.hero.subtitle}
        </p>
      </Animate>

      <Animate type="fadeInUp" delay={400} threshold={0.2}>
        <p class="text-lg max-w-2xl mx-auto mb-12">
          {contactData.hero.description}
        </p>
      </Animate>

      <!-- CTA Principal -->
      <Animate type="fadeInUp" delay={500} threshold={0.2}>
        <div class="inline-flex flex-col items-center">
          <Button
            ariaLabel="Ordenar por WhatsApp"
            text="Ordenar por WhatsApp"
            icon="whatsapp"
            iconPosition="left"
            style="rounded"
            color="#25D366"
            textColor="white"
            hoverColor="#128C7E"
            shadowColor="#128C7E"
            size="xl"
            href={contactData.primaryCTA.url}
            target="_blank"
            rel="noopener noreferrer"
            class="px-12 py-4 text-lg font-medium"
          />
          <div class="mt-4 text-gray-400 text-sm">
            {contactData.primaryCTA.phone}
          </div>
        </div>
      </Animate>
      
      <Animate type="fadeInUp" delay={600} threshold={0.2}>
        <p class="text-xl md:text-2xl mb-8 font-bold mt-12">
          Asociación de Agricultores Orgánicos Cultivando Salud
        </p>
      </Animate>
      
      <Animate type="fadeInUp" delay={700} threshold={0.2}>
        <p class="text-xl md:text-2xl mb-8 font-light">
          RUC: {CONTACT.RUC}
        </p>
      </Animate>
    </Container>
  </section>

  <!-- Canales de Contacto -->
  <section class="contact-channels bg-rv-light">
    <Container className="py-20">
      <Animate type="fadeInUp" delay={200} threshold={0.2}>
        <div class="text-center mb-16">
          <h2 class="text-3xl font-bold mb-4 text-rv-very-dark">
            Múltiples formas de conectar
          </h2>
        </div>
      </Animate>

      <div class="grid md:grid-cols-2 gap-4 md:gap-8 max-w-4xl mx-auto px-4">
        {contactData.contactChannels.map((channel, index) => (
          <Animate type="fadeInUp" delay={300 + index * 100} threshold={0.2}>
            <a
              href={channel.url}
              target="_blank"
              rel="noopener noreferrer"
              class={`group block p-4 md:p-8 rounded-2xl transition-all duration-300 hover:shadow-lg relative ${
                channel.featured
                  ? "bg-green-50 border-2 border-green-200 hover:border-green-300"
                  : "bg-gray-50 border border-gray-200 hover:border-gray-300"
              }`}
            >
              {channel.featured && (
                <div class="absolute -top-2 -right-2 bg-green-500 text-white text-xs font-bold px-2 py-1 rounded-full shadow-md hidden md:inline-block">
                  Recomendado
                </div>
              )}

              <div class="flex items-start space-x-3 md:space-x-4">
                <div
                  class={`w-10 h-10 md:w-12 md:h-12 rounded-xl flex items-center justify-center ${
                    channel.featured
                      ? "bg-green-500 text-white"
                      : "bg-rv-accent text-white"
                  }`}
                >
                  <Icon name={channel.icon} size={20} class="md:w-6 md:h-6" />
                </div>
                <div class="flex-1">
                  <h3 class="text-lg md:text-xl font-semibold text-rv-accent mb-1 md:mb-2">
                    {channel.title}
                  </h3>
                  <p class="text-sm md:text-base text-gray-600 leading-relaxed">
                    {channel.description}
                  </p>
                </div>
              </div>
            </a>
          </Animate>
        ))}
      </div>
    </Container>
  </section>

  <!-- Redes Sociales -->
  <section class="social-section bg-rv-very-light">
    <Container className="py-20">
      <Animate type="fadeInUp" delay={200} threshold={0.2}>
        <h2 class="text-3xl font-bold text-center text-rv-very-dark mb-12">
          Síguenos
        </h2>
      </Animate>

      <div class="flex flex-wrap justify-center gap-8">
        {contactData.socialChannels.map((social, index) => (
          <Animate type="fadeInUp" delay={300 + index * 100} threshold={0.2}>
            <a
              href={social.url}
              target="_blank"
              rel="noopener noreferrer"
              class="group flex flex-col items-center space-y-3 p-6 rounded-2xl hover:bg-white transition-all duration-300"
              aria-label={`Seguir en ${social.title}`}
            >
              <div class="w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center group-hover:bg-green-900 group-hover:text-white transition-all duration-300">
                <Icon name={social.icon} size={28} />
              </div>
              <span class="text-gray-700 font-medium">{social.title}</span>
            </a>
          </Animate>
        ))}
      </div>
    </Container>
  </section>

  <!-- Ubicación -->
  <section class="location-section bg-rv-light">
    <Container className="py-20">
      <div class="grid lg:grid-cols-2 gap-16 items-center">
        <Animate type="fadeInLeft" delay={300} threshold={0.2}>
          <div>
            <h2 class="text-4xl font-bold text-gray-900 mb-6">
              {contactData.location.title}
            </h2>
            <div class="space-y-6">
              <div>
                <h3 class="text-2xl font-semibold text-green-600 mb-2">
                  {contactData.location.place}
                </h3>
                <p class="text-gray-600 text-lg">
                  {contactData.location.description}
                </p>
              </div>
              <div class="flex items-center space-x-3 text-gray-500">
                <Icon name="mountain" size={20} />
                <span>{contactData.location.coordinates}</span>
              </div>
            </div>
          </div>
        </Animate>

        <Animate type="fadeInRight" delay={400} threshold={0.2}>
          <div class="rounded-3xl overflow-hidden shadow-2xl">
            <Map
              mapEmbedUrl={mapEmbedUrl}
              title="Ubicación ChiriKay en Huarochirí"
              badgeText="🍃 ChiriKay"
              aspectRatio={null}
              height="400px"
              badgePosition="bottom-left"
              borderRadius="none"
              shadow="none"
              ariaLabel="Mapa de ubicación en Huarochirí, Lima"
              className="h-full"
            />
          </div>
        </Animate>
      </div>
    </Container>
  </section>

  <!-- CTA Final -->
  <section class="final-cta bg-rv-very-dark text-white">
    <Container className="py-20 text-center">
      <Animate type="fadeInUp" delay={200} threshold={0.2}>
        <h2 class="text-4xl font-bold mb-6 text-rv-cta">
          ¿Listo para probar la diferencia?
        </h2>
        <p class="text-xl text-green-100 mb-8 max-w-2xl mx-auto">
          Chirimoya orgánica premium cultivada con pasión en los valles de
          Huarochirí
        </p>
        <Button
          ariaLabel="Contactar ahora"
          text="Contactar ahora"
          icon="whatsapp"
          iconPosition="left"
          style="rounded"
          color="white"
          textColor="#065F46"
          hoverColor="#F3F4F6"
          shadowColor="#059669"
          size="xl"
          href={contactData.primaryCTA.url}
          target="_blank"
          rel="noopener noreferrer"
          class="px-12 py-4 text-lg font-semibold"
        />
      </Animate>
    </Container>
  </section>
</Layout>